- name = "Durzo Blindeye"
- levels = { rogue: 4 }
- hd = { rogue: 'd8' }
- ability_scores = {str: 8, dex: 18, con: 14, int: 14, wis: 5, cha: 15}
- mods = Hash[ability_scores.map { |k, v| [k, (v - 10) / 2] }]
- prof = ((levels.values.sum - 1) / 4 + 2)
- hp = 8 + (levels[:rogue] - 1) * 5 + mods[:con] * levels[:rogue]
!!!
%head
  %title #{name}
  %link{rel: 'stylesheet', type: 'text/css', href: '../charsheet.css'}
%body
  %h1 #{name}
  .info-bar
    %span.subrace Human
    %span.class-level=levels.map { |k, v| "#{k.capitalize} #{v}"}.join('/')
    %span.xp (4,350 / 6,500 xp)
  .flex.atf
    -#ability scores
    .ability-scores.flex.tall
      - ability_scores.each do |k, v|
        %div{class: k}
          .score=v
          .mod='%+d' % mods[k]
    -#proficiencies
    .proficiencies
      .head.b
        .bonus='%+d' % prof
      .save Dex, Int
      .skill Acrobatics, Deception, Investigation, Persuasion, Sleight of Hand, Stealth
      .tool Thieves' tools, Disguise kit, Gaming set (cards)
      .language Common, Thieves' Cant, Halfling
      .weapon all simple, longsword, hand crossbow, rapier, shortsword
      .armor light
    -#health
    .health
      .head
        Max HP:
        %span.b=hp
      .hit-dice.resource
        .head Hit Dice
        - levels.each do |k, v|
          %div{class: "uses #{hd[k]}"}
            - levels[k].times do |i|
              .checkbox
      .death-saves.resource
        .head Death Saves
        .success.uses
          - 3.times do |i|
            .checkbox
        .failure.uses
          - 3.times do |i|
            .checkbox
    -#hp
    .hp
      .scratch
        .title Current HP
        %div
      .scratch
        .title Temp HP
        %div

  .flex.btf

    .flex.column.wide
      -#equip
      .equipment-set.half.block
        .head.b Ranged Equipment
        .small
          Light crossbow, studded leather
        .ac
          .head.b AC
          .value 16
        .move
          .head.b Move
          .value 25
        .head.b Attack Action
        .attack.roll
          .b.bg Roll
          .value d20 + #{mods[:dex] + prof}
        .attack.damage
          .b.bg Damage
          .value
            1d8 + #{mods[:dex]}
            %span.small piercing
        .attack.range
          .b.bg Range
          .value 80 / 320
      -#equip
      .equipment-set.half.block
        .head.b Melee Equipment
        .small Shortsword, dagger, studded leather
        .ac
          .head.b AC
          .value 16
        .move
          .head.b Move
          .value 25
        .head.b Attack Action
        .attack.roll
          .b.bg Roll
          .value d20 + #{mods[:dex] + prof}
        .attack.damage
          .b.bg Damage
          .value
            1d6 + #{mods[:dex]}
            %span.small piercing
        .attack.range
          .b.bg Range
          .value 5
        .head.b Bonus Action (Offhand)
        .attack.roll
          .b.bg Roll
          .value d20 + #{mods[:dex] + prof}
        .attack.damage
          .b.bg Damage
          .value
            1d4
            %span.small piercing
        .attack.range
          .b.bg Range
          .value 5
        %ul.small
          %li Can throw dagger, range 20/60
          %li Must attack with mainhand to use offhand bonus action

      .half{style: "margin-top: -8.66rem;"}
        -#cunning-action
        .feature.block
          .head.b Cunning Action
          %p.small
            You can Dash, Disengage, or Hide as a bonus action.
        -#expertise
        .feature.block
          .head.b Expertise
          %p.small
            Double proficiency bonus on skills checks using your
            %span.b Sleight of Hand
            or
            %span.b Stealth
            proficiencies.
        -#sneak-attack
        .feature.block
          .head.b Sneak Attack +2d6
          %p.small
            Once per turn, deal bonus damage on an attack with a finesse or ranged weapon. Requires advantage, or another enemy of the target within 5 ft. of it and no disadvantage.

      .half
        .feature.block
          .head.b Halfling Nimbleness
          %p.small
            You can move through the space of creatures of a larger size than you.
        .feature.block
          .head.b Naturally Stealthy
          %p.small
            You can attempt to hide when obscured by a creature at least one size larger than you.

    .flex.tall.column.narrow
      -#arcane-trickster-spellcasting
      .spellcasting.block
        .head.b Arcane Trickster Spellcasting
        .stat.b
          Spellcasting Ability:
          .value Int
        .stat.b
          Spell Attack Modifier:
          .value='%+d' % (mods[:int] + prof)
        .stat.b
          Saving Throw DC:
          .value=8 + prof + mods[:int]
      .flex.block
        .head.b Spell Slots
        .slots.resource.half
          .label
            1
            %sup> st
          .uses
            - 3.times do |i|
              .checkbox
        .slots.resource.half
      .scratch.concentration.block
        .title.b Concentration
        %div
      -#mage-hand-legerdemain
      .feature.block
        .head.b Mage Hand Legerdemain
        %p.small
          When you cast
          %span.spell mage hand,
          the hand is invisible, and you can perform additional tasks with it:
          %ul.small
            %li Stow one object in a container worn or carried by another creature.
            %li Retrieve an object in a container worn or carried by another creature.
            %li Use thieves' tools to pick locks and disarm traps at range.
      .feature.block
        .head.b Lucky
        %p.small
          When you roll a 1 on an attack roll, ability check, or saving throw, you can reroll the die and must use the new roll.
      .feature.block
        .head.b Brave
        %p.small
          You have advantage on saving throws against being frightened.


  .spell-list.flex.block{style: "margin-top: -8rem;"}
    .spell-actions.column
      .head.b Spell Actions
      .spell
        .title Mage Hand
        .level cantrip
        .keywords.b 
      .spell
        .title Message
        .level cantrip
        .keywords.b
      .spell
        .title Minor Illusion
        .level cantrip
        .keywords.b 
      .spell
        .title Catapult
        .level 1<sup>st</sup>
        .keywords.b
      .spell
        .title Charm Person
        .level 1<sup>st</sup>
        .keywords.b 
      .spell
        .title Disguise Self
        .level 1<sup>st</sup>
        .keywords.b
      .spell
        .title Tasha's Hideous Laughter
        .level 1<sup>st</sup>
        .keywords.b conc.

  .new-page

  .inventory.grid.block
    .head.b Inventory
    .item Light crossbow
    .item Crossbow bolt (20)
    .item 50 ft. hemp rope
    .item Backpack
    .item Shortsword
    .item Dagger (4)
    .item Bedroll
    .item Caltrops (20)
    .item Studded leather armor
    .item Candle
    .item Tinderbox
    .item Thieves' tools
    .item Disguise kit
    .item Forgery kit
    .item Dice set
    .item Common clothes
    .item Climber's kit
    .item Hammer
    .item Hooded lantern
    .item Oil (2 flasks)
    .item Rations (5)
    .item Playing card set
    .item String
    .item Waterskin
    .item Piton (10)
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .money
      .label.b.bg pp
      .label.b.bg gp
      .label.b.bg sp
      .label.b.bg cp
      .value.pp
      .value.gp 137
      .value.sp 44
      .value.cp 48


