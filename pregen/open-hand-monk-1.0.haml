- name = "左路/ Left Path"
- levels = { monk: 1 }
- hd = { monk: 'd8' }
- ability_scores = {str: 10, dex: 16, con: 14, int: 8, wis: 16, cha: 8}
- mods = Hash[ability_scores.map { |k, v| [k, (v - 10) / 2] }]
- prof = ((levels.values.sum - 1) / 4 + 2)
- hp = 8 + (levels[:monk] - 1) * 5 + mods[:con] * levels.values.sum
- monk_damage_die = 4 + 2 * ((levels[:monk] + 1) / 6)
- monk_speed_bonus = 5 + 5 * ((levels[:monk] + 2) / 4)
!!!
%head
  %title #{name}
  %link{rel: 'stylesheet', type: 'text/css', href: '../charsheet.css'}
%body
  %h1 #{name}
  .info-bar
    %span.subrace Human
    %span.class-level=levels.map { |k, v| "#{k.capitalize} #{v}"}.join('/')
    %span.xp (0 / 300 xp)
  .flex.atf
    -#ability scores
    .ability-scores.flex.tall
      - ability_scores.each do |k, v|
        %div{class: k}
          .score=v
          .mod='%+d' % mods[k]
    -#proficiencies
    .proficiencies
      .head.b
        .bonus='%+d' % prof
      .save Str, Dex
      .skill Athletics, Insight, Medicine, Perception, Stealth
      .tool Musical instrument (&#xe8;rh&#xfa;), calligrapher's supplies
      .language Common, Celestial, Deep Speech
      .weapon simple, shortsword
      .armor none
    -#health
    .health
      .head
        Max HP:
        %span.b=hp
      .hit-dice.resource
        .head Hit Dice
        - levels.each do |k, v|
          %div{class: "uses #{hd[k]}"}
            - levels[k].times do |i|
              .checkbox
      .death-saves.resource
        .head Death Saves
        .success.uses
          - 3.times do |i|
            .checkbox
        .failure.uses
          - 3.times do |i|
            .checkbox
    -#hp
    .hp
      .scratch
        .title Current HP
        %div
      .scratch
        .title Temp HP
        %div

  .flex.btf

    .flex.column.tall.narrow
      -#equip
      .equipment-set.block
        .head.b Standard Equipment
        .small Staff, unarmored
        .ac
          .head.b AC
          .value=10 + mods[:dex] + mods[:wis]
        .move
          .head.b Move
          .value=30
        .head.b Attack Action
        .attack.roll
          .b.bg Roll
          .value d20 + #{mods[:dex] + prof}
        .attack.damage
          .b.bg Damage
          .value
            1d#{[8, monk_damage_die].max} + #{mods[:dex]}
            %span.small bludgeoning
        .attack.range
          .b.bg Range
          .value 5
        .head.b Bonus Action
        .attack.roll
          .b.bg Roll
          .value d20 + #{mods[:dex] + prof}
        .attack.damage
          .b.bg Damage
          .value
            1d#{monk_damage_die} + #{mods[:dex]}
            %span.small bludgeoning
        .attack.range
          .b.bg Range
          .value 5
        %ul.small
          %li Must Attack with monk weapon or unarmed strike to use bonus action

    .flex.column.wide
      -#magic-initiate
      .feature.block
        .head
          %span.b Magic Initiate
          .uses.long-rest
            - 1.times do |i|
              .checkbox
        %p.small
          You know two cantrips,
          %span.spell guidance
          and
          %span.spell produce flame,
          and one 1st-level spell,
          %span.spell faerie fire,
          from the druid spell list. You can cast the cantrips at-will, but once you cast
          %span.spell faerie fire
          you must complete a long rest before you can cast it again. Wisdom is your spellcasting ability for these spells.
      -#martial-arts
      .feature.block
        .head.b Martial Arts
        %p.small While not wearing armor or using a shield, if you are unarmed or wielding only monk weapons, you gain the following benefits. Monk weapons are simple weapons without the heavy or two-handed property, and shortswords.
        %ul.small
          %li You can use Dex instead of Str for melee attack and damage rolls.
          %li You can roll 1d4 in place of your normal weapon damage.
          %li You can make one unarmed strike as a bonus action when you take the Attack action with a monk weapon or unarmed strike.
      -#unarmored-defense
      .feature.block
        .head.b Unarmored Defense
        %p.small
          While not wearing armor or using a shield, your AC is 10 + Dex + Wis.

  .inventory.grid.block
    .head.b Inventory
    .item Quarterstaff
    .item &#xe8;rh&#xfa;
    .item 50 ft. hemp rope
    .item Calligrapher's supplies
    .item Backpack
    .item Bedroll
    .item Rations (10)
    .item Waterskin
    .item Traveler's clothes
    .item Mess kit
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .item
    .money
      .label.b.bg pp
      .label.b.bg gp
      .label.b.bg sp
      .label.b.bg cp
      .value.pp
      .value.gp 5
      .value.sp
      .value.cp

  .new-page

  .flex.role-playing
    .column.wide
      .feature.block
        .head.b Background: Far Traveler
        %p.small
          You are from a distant place, one so remote that few of those in your current location realize that it exists. Chances are that even if some people you meet have heard of your homeland, they know merely the name and perhaps a few outrageous stories. You have come to Minhelras area for your own reaons, which you might or might not choose to share.
    .column.narrow
      .feature.block
        .head.b Personality Trait
        %p.small
          I begin or end my day with small traditional rituals that are unfamiliar to those around me.
      .feature.block
        .head.b Ideal: Reserved
        %p.small
          As someone new to these strange lands, I am cautious and respectful in my dealings.
      .feature.block
        .head.b Bond
        %p.small
          I'm fascinated by the beauty and wonder of this new land.
      .feature.block
        .head.b Flaw
        %p.small
          I pretend not to understand the local language in order to avoid interactions I would rather not have.


